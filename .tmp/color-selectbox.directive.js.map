{"version":3,"sources":["../src/scripts/color-selectbox.directive.js"],"names":[],"mappings":"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","file":"color-selectbox.directive.js","sourcesContent":["(function () {\n\n    'use strict';\n\n    function colorSelectbox(document) {\n\n        let cpSize = 25;\n        var elId = '';\n\n        const pallette = [\n            'Aqua',\n            'AquaMarine',\n            'Bisque',\n            'Black',\n            'Blue',\n            'BlueViolet',\n            'Brown',\n            'CadetBlue',\n            'Chocolate',\n            'CornflowerBlue',\n            'Crimson',\n            'Cyan',\n            'DarkBlue',\n            'DarkCyan',\n            'DarkGoldenRod',\n            'DeepPink',\n            'Fuchsia',\n            'Gray',\n            'Green',\n            'HotPink',\n            'LightBlue',\n            'Lime',\n            'LimeGreen',\n            'Maroon',\n            'Magenta',\n            'MidnightBlue',\n            'Navy',\n            'Olive',\n            'Orange',\n            'OrangeRed',\n            'Pink',\n            'Purple',\n            'Red',\n            'Salmon',\n            'Silver',\n            'Tan',\n            'Teal',\n            'Violet',\n            'Yellow',\n            'YellowGreen'\n        ];\n\n        activate();\n\n        return {\n            restrict: 'E',\n            scope: {\n                color: '=',\n                item: '=',\n                onselect: '=',\n                position: '=',\n                autohide: '=',\n                size: '='\n            },\n            template:\n              '<span class=\"color_square;\" style=\"cursor:pointer;\">' +\n                '<i class=\"fa fa-square\" style=\"color:{{color}}\"></i>' +\n              '</span>',\n        //    controller: controller,\n        //    controllerAs: 'cp',\n            link: link\n        };\n\n\n        function link (scope, element) {\n\n            element = $(element);\n\n            element.click(function () {\n\n                document.on('mousedown', hideColorSelectbox);\n\n                const span = element.children('span');\n                const top = span.offset().top;\n                const left = span.offset().left;\n\n                const cp = $('#' + elId);\n                if (scope.position === 'right') {\n                    cp.css('left', left + 16);\n                } else {\n                    cp.css('left', left - Math.sqrt(cpSize) * 24);\n                }\n                cp.css('top', top);\n                cp.show();\n                const cpClick = function (e) {\n                    var color = $(e.target).css('color');\n                    var i = span.find('i');\n                    i.css('color', color);\n                    if (scope.autohide){ hideColorSelectbox();}\n                    scope.onselect(color, scope.item);\n                };\n                cp.off('click');\n                cp.click(cpClick);\n\n            });\n        }\n\n        function hideColorSelectbox(e){\n            if (e) {\n                var el = $(e.target).parents('#' + elId)[0];\n                if (el) {\n                    return;\n                }\n            }\n            $('#' + elId).hide();\n            document.off('mousedown', hideColorSelectbox);\n\n        }\n        function activate() {\n\n            if (window.cpSize){\n               cpSize = window.cpSize;\n            }\n            elId = 'sr_cp_' + cpSize;\n\n            document.bind('keypress', function(e){\n                if (e.keyCode === 27){\n                    $('#' + elId).hide();\n                }\n            });\n\n            const cp = $('<DIV/>', {id: elId}).appendTo('body');\n            cp.addClass('sr_cp');\n            const squares = [];\n            var cpWidth = parseInt(Math.sqrt(cpSize)) * 19 + 16;\n\n            _.range(cpSize).forEach(() => squares.push('<i>&#xf0c8</i>') );\n\n            const color_menu_string = squares.join('');\n            cp.html(color_menu_string);\n\n            const cpEl = $('#' + elId);\n            const dots = cpEl.find('i');\n            _.each( dots, (dot, i) => $(dot).css('color', pallette[i]) );\n\n            cpEl.css('width', cpWidth);\n            cpEl.css('height', cpWidth);\n\n        }\n        function setMenu(){\n\n        }\n\n    }\n\n    colorSelectbox.$inject = ['$document'];\n\n    angular\n        .module('color.selectbox',[])\n        .directive('colorSelectbox', colorSelectbox);\n\n\n})();\n\n"]}